(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{388:function(t,v,_){"use strict";_.r(v);var p=_(7),l=Object(p.a)({},(function(){var t=this,v=t._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("ul",[v("li",[t._v("http/1.1")]),t._v(" "),v("li",[t._v("https")]),t._v(" "),v("li",[t._v("http/2")]),t._v(" "),v("li",[t._v("http/3")])]),t._v(" "),v("p",[v("img",{attrs:{src:"https://p.ipic.vip/yx6n9f.png",alt:"img"}})]),t._v(" "),v("h2",{attrs:{id:"http1-1"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#http1-1"}},[t._v("#")]),t._v(" http1.1")]),t._v(" "),v("p",[t._v("优点：")]),t._v(" "),v("ul",[v("li",[t._v("默认使用长连接。（HTTP/1.0协议支持，但是是默认关闭的，从HTTP/1.1以后，连接默认都是长连接。）")]),t._v(" "),v("li",[t._v("支持管道（pipeline）传输，即允许浏览器同时发送多个请求，但响应还是要按序。")])]),t._v(" "),v("p",[t._v("缺点：")]),t._v(" "),v("ul",[v("li",[t._v("响应要按需，可能造成队头阻塞")]),t._v(" "),v("li",[t._v("头部未经压缩")]),t._v(" "),v("li",[t._v("没有请求优先级")]),t._v(" "),v("li",[t._v("请求只能从客户端开始，服务端只能被动响应")]),t._v(" "),v("li",[t._v("明文传输，不安全")])]),t._v(" "),v("h2",{attrs:{id:"https"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#https"}},[t._v("#")]),t._v(" https")]),t._v(" "),v("p",[t._v("在http和tcp之间，通过增加SSL/TLS协议实现。")]),t._v(" "),v("p",[t._v("优点：")]),t._v(" "),v("ul",[v("li",[t._v("采用信息加密（混合加密），解决明文传输会被窃听的问题。")]),t._v(" "),v("li",[t._v("采用验证机制，通过摘要算法保证信息的完整性，解决了报文可能被篡改的问题。")]),t._v(" "),v("li",[t._v("采用身份证书（数字证书），将公钥放到证书中。解决可能被冒充的问题。")])]),t._v(" "),v("h2",{attrs:{id:"http2"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#http2"}},[t._v("#")]),t._v(" http2")]),t._v(" "),v("p",[t._v("优点：")]),t._v(" "),v("ul",[v("li",[t._v("基于https的，安全有保障。")]),t._v(" "),v("li",[t._v("使用HPACK算法进行头部压缩。如果同时发送过个请求，头部是相同的，会消除重复的部分。")]),t._v(" "),v("li",[t._v("二进制格式的报文。由头信息帧+数据帧组成")]),t._v(" "),v("li",[t._v("采用数据流，每个请求或响应的所有包，称为一个数据流，用来标识同一请求。每个数据流有唯一的编号。还可以指定数据流的优先级，优先级高的服务端优先响应。")]),t._v(" "),v("li",[t._v("多路复用解决队头阻塞问题。")]),t._v(" "),v("li",[t._v("支持服务端推送。")])]),t._v(" "),v("p",[t._v("缺点：")]),t._v(" "),v("ul",[v("li",[t._v("多个http请求复用一个tcp连接，如果丢包，会触发tcp重传，同一tcp下的http请求都必须等这个包。")])]),t._v(" "),v("h2",{attrs:{id:"http3"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#http3"}},[t._v("#")]),t._v(" http3")]),t._v(" "),v("p",[t._v("优点：")]),t._v(" "),v("ul",[v("li",[v("p",[t._v("把tcp协议改成udp。基于udp提出了QUIC协议。")])]),t._v(" "),v("li",[v("ul",[v("li",[t._v("udp不管顺序，不管丢包，因此不会有队头阻塞和丢包重传问题。")]),t._v(" "),v("li",[t._v("可靠性由QUIC保证。")])])]),t._v(" "),v("li",[v("p",[t._v("TLS升级成了TLS1.3，一个RTT就可以完成握手。")])]),t._v(" "),v("li",[v("p",[t._v("头部压缩算法升级成了QPack")])])]),t._v(" "),v("h2",{attrs:{id:"q-a"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#q-a"}},[t._v("#")]),t._v(" Q & A")]),t._v(" "),v("p",[t._v("Q：TLS的握手阶段是再什么时候，是在TCP连接后吗？流程又是怎样的。")]),t._v(" "),v("p",[t._v("A：先TCP三次握手，再TLS三次握手。")])])}),[],!1,null,null,null);v.default=l.exports}}]);