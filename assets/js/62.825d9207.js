(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{386:function(t,e,o){"use strict";o.r(e);var s=o(7),a=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"cookie"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookie"}},[t._v("#")]),t._v(" Cookie")]),t._v(" "),e("ul",[e("li",[t._v("Cookie 是一些数据, 存储于你电脑上的文本文件中")]),t._v(" "),e("li",[t._v("实现每次HTTP请求都自动带数据给服务器的技术")]),t._v(" "),e("li",[t._v('Cookie 的作用就是用于解决 "如何记录客户端的用户信息"')]),t._v(" "),e("li",[t._v("一般配合Session一起使用：客户端发送账号密码给服务器，"),e("strong",[t._v("服务器通过账号密码生成SessionID给客户端，然后客户端每次请求都附带这个带有SessionID的cookie")]),t._v("。")])]),t._v(" "),e("p",[e("strong",[t._v("首部字段")])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("首部字段名称")]),t._v(" "),e("th",[t._v("说明")]),t._v(" "),e("th",[t._v("首部类型")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("Set-Cookie")]),t._v(" "),e("td",[t._v("开始状态管理所使用的Cookie信息")]),t._v(" "),e("td",[t._v("响应首部字段")])]),t._v(" "),e("tr",[e("td",[t._v("Cookie")]),t._v(" "),e("td",[t._v("服务器接收到的Cookie信息")]),t._v(" "),e("td",[t._v("请求首部字段")])])])]),t._v(" "),e("p",[t._v("Set-Cookie字段属性")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("属性")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("<cookie-name>=<cookie-value>")]),t._v(" "),e("td",[t._v("一个cookie必须始于一个名称/值对")])]),t._v(" "),e("tr",[e("td",[t._v("Expires=<date>")]),t._v(" "),e("td",[t._v("(可选)cookie的最长有效时间")])]),t._v(" "),e("tr",[e("td",[t._v("Max-Age=<non-zero-digit>")]),t._v(" "),e("td",[t._v("(可选)优先级高于Expires，指失效所需经过的秒数")])]),t._v(" "),e("tr",[e("td",[t._v("Domain=<domain-value>")]),t._v(" "),e("td",[t._v("(可选)指定cookie可以送达的主机名")])]),t._v(" "),e("tr",[e("td",[t._v("Path=<path-value>")]),t._v(" "),e("td",[t._v("(可选)将服务器的文件目录（子目录）作为cookie的适用对象")])]),t._v(" "),e("tr",[e("td",[t._v("Secure")]),t._v(" "),e("td",[t._v("(可选)仅在请求使用SSL和HTTPS协议的时候才会被发送到服务器")])]),t._v(" "),e("tr",[e("td",[t._v("HttpOnly")]),t._v(" "),e("td",[t._v("(可选)设置了 HttpOnly 属性的 cookie 不能使用 JavaScript 经由  Document.cookie属性、XMLHttpRequest和Request APIs 进行访问")])]),t._v(" "),e("tr",[e("td",[t._v("SameSite=Strict/Lax")]),t._v(" "),e("td",[t._v("(可选)允许服务器设定一则cookie不随着跨域请求一起发送")])])])]),t._v(" "),e("p",[t._v("cookie的sameSite：")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("strict：表示完全禁止第三方cookie，直接避免了CSRF攻击，但是同一个运营体的网站不能共用登陆信息")])]),t._v(" "),e("li",[e("p",[t._v("none：完全不做限制")])]),t._v(" "),e("li",[e("p",[t._v("lax：半放行")])])]),t._v(" "),e("h2",{attrs:{id:"cookie和session区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookie和session区别"}},[t._v("#")]),t._v(" Cookie和Session区别")]),t._v(" "),e("ul",[e("li",[t._v("存储位置：cookie保存在浏览器端；而session保存在服务器端")]),t._v(" "),e("li",[t._v("存储方式：cookie只能保存字符串类型，以文本的方式存储（如果没有设置过期时间，会存储在内存中）；session通过类似与Hashtable的数据结构来保存")]),t._v(" "),e("li",[t._v("存储大小：cookie小于4kb；session没有大小限制")]),t._v(" "),e("li",[t._v("安全性：session大于cookie")])]),t._v(" "),e("h2",{attrs:{id:"localstorage-和-sessionstorage-区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#localstorage-和-sessionstorage-区别"}},[t._v("#")]),t._v(" LocalStorage 和 SessionStorage 区别")]),t._v(" "),e("p",[t._v("WebStorage包括localStorage 和 sessionStorage两种方式。")]),t._v(" "),e("p",[t._v("localStorage 和 sessionStorage 属性均允许在浏览器中存储 key/value 对的数据。均是为了弥补cookie所带来的限制，当数据需要"),e("strong",[t._v("严格控制在客户端")]),t._v("，并且不需要持续的将数据发回服务器的时候，就需要使用WebStorage。")]),t._v(" "),e("p",[t._v("localStorage用于长久保存数据，没有过期时间设置；sessionStorage用于临时保存同一窗口(或标签页)的数据，关闭对应浏览器窗口（Window）/ tab，数据将会被清除。")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("sessionStorage：只在同源的同窗口（或标签页）中共享数据，也就是只在当前会话中共享")])]),t._v(" "),e("li",[e("p",[t._v("localStorage：在所有的同源窗口中都是共享的")])]),t._v(" "),e("li",[e("p",[t._v("cookie：在所有同源窗口中都是共享的")])])]),t._v(" "),e("h2",{attrs:{id:"localstorage设置过期时间"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#localstorage设置过期时间"}},[t._v("#")]),t._v(" localStorage设置过期时间")]),t._v(" "),e("p",[t._v("存储localStorage的同时，存储一个过期时间")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("localStorage"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value\nlocalStorage"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("key"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("__expires__")]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Date"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("now")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("expired\n")])])]),e("p",[t._v("在获取的时候，先取对应的存储时间，如果过期，则删除。没过期再去取对应的值")]),t._v(" "),e("h2",{attrs:{id:"cookie如何跨域"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cookie如何跨域"}},[t._v("#")]),t._v(" cookie如何跨域")]),t._v(" "),e("p",[t._v("A网站访问同源的服务器，获取到cookie，然后A网站发送请求到B服务器，想要带上这个cookie")]),t._v(" "),e("p",[t._v("1.在请求头中添加Credentials：true")]),t._v(" "),e("p",[t._v("2.在B服务器配置Access-Control-Allow-Origin和Access-Control-Allow-Credentials对A网站的请求进行放行")]),t._v(" "),e("p",[t._v("但是在新版的chrome中，需要将cookie的samesite属性设置为none（完全放行，默认是lax半放行，stract禁止），设置为none的话并且必须使用https请求")])])}),[],!1,null,null,null);e.default=a.exports}}]);