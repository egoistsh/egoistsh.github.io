---
title: Java内存模型
date: 2023-03-19 15:23:08
permalink: /pages/jvm/
---



Java Memory Model，JMM

缓存会带来缓存一致性的问题。通常通过各种协议解决。



这里的主内存、工作内存与Java内存区域中的Java堆、栈、方法区等不是一个概念，没有关系。

- Java内存模型规定了所有的变量都存储在主内存中。
- 每条线程还有自己的工作内存，线程中的工作内存中保存了被该线程使用的变量的主内存副本，线程对变量的所有操作（读取、赋值等）都必须在工作内存中进行，而不能直接读写主内存中的数据。
- 不同的线程之间也无法直接访问对方工作内存中的变量，线程间变量值的传递均需要通过主内存来完成。

这里说的变量与java编程中的变量有所区别，它包括了**实例字段、静态字段和构成数组对象的元素**，但是不包括局部变量与方法参数，因为是线程私有的，不会被共享，不会存在竞争问题。



## volatile 和 synchronized
